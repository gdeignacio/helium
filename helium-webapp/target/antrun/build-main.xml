<?xml version="1.0" encoding="UTF-8" ?>
<project name="maven-antrun-" default="main"  >
<target name="main">
  <property file="/home/gdeignacio/Proyectos/maven/helium/helium-webapp/../build.properties"/>
  <copy file="/home/gdeignacio/Proyectos/maven/helium/helium-webapp/src/main/webapp/WEB-INF/web.xml" todir="/home/gdeignacio/Proyectos/maven/helium/helium-webapp/target/replace-dir/WEB-INF" overwrite="true"/>
  <replace file="/home/gdeignacio/Proyectos/maven/helium/helium-webapp/target/replace-dir/WEB-INF/web.xml" propertyFile="/home/gdeignacio/Proyectos/maven/helium/helium-webapp/../build.properties">
    <replacefilter property="web.realm.name" token="@@web.realm.name@@"/>
    <replacefilter property="cas.sso.server.base.url" token="@@cas.sso.server.base.url@@"/>
    <replacefilter property="cas.sso.service" token="@@cas.sso.service@@"/>
    <replacefilter property="cas.sso.server.name" token="@@cas.sso.server.name@@"/>
    <replacefilter property="cas.sso.roles.query.jndi" token="@@cas.sso.roles.query.jndi@@"/>
    <replacefilter property="cas.sso.roles.query.sql" token="@@cas.sso.roles.query.sql@@"/>
    <replacefilter property="web.session.timeout" token="@@web.session.timeout@@"/>
  </replace>
  <replace file="/home/gdeignacio/Proyectos/maven/helium/helium-webapp/target/replace-dir/WEB-INF/web.xml">
    <replacefilter>
      <replacetoken>&lt;!-- session-timeout.begin --&gt;&lt;!--</replacetoken>
      <replacevalue>&lt;session-timeout&gt;</replacevalue>
    </replacefilter>
    <replacefilter>
      <replacetoken>--&gt;&lt;session-timeout&gt;30&lt;/session-timeout&gt;&lt;!-- session-timeout.end --&gt;</replacetoken>
      <replacevalue>&lt;/session-timeout&gt;</replacevalue>
    </replacefilter>
  </replace>
  <taskdef resource="net/sf/antcontrib/antcontrib.properties" classpathref="maven.plugin.classpath"/>
  <if>
    <equals arg2="true" arg1="${cas.sso.active}"/>
    <then>
      <replace file="/home/gdeignacio/Proyectos/maven/helium/helium-webapp/target/replace-dir/WEB-INF/web.xml">
        <replacefilter>
          <replacetoken>&lt;!-- cas.sso.begin</replacetoken>
          <replacevalue>&lt;</replacevalue>
        </replacefilter>
        <replacefilter>
          <replacetoken>cas.sso.end --&gt;</replacetoken>
          <replacevalue>&gt;</replacevalue>
        </replacefilter>
        <replacefilter>
          <replacetoken>&lt;!-- login-config.begin --&gt;</replacetoken>
          <replacevalue>&lt;!--</replacevalue>
        </replacefilter>
        <replacefilter>
          <replacetoken>&lt;!-- login-config.end --&gt;</replacetoken>
          <replacevalue>--&gt;</replacevalue>
        </replacefilter>
        <replacefilter>
          <replacetoken>&lt;!-- security-constraint.begin --&gt;</replacetoken>
          <replacevalue>&lt;!--</replacevalue>
        </replacefilter>
        <replacefilter>
          <replacetoken>&lt;!-- security-constraint.end --&gt;</replacetoken>
          <replacevalue>--&gt;</replacevalue>
        </replacefilter>
      </replace>
      <if>
        <equals arg2="internal" arg1="${cas.sso.roles.source}"/>
        <then>
          <replace file="/home/gdeignacio/Proyectos/maven/helium/helium-webapp/target/replace-dir/WEB-INF/web.xml">
            <replacefilter>
              <replacetoken>&lt;- cas.sso.custom.sql.begin -&gt;</replacetoken>
              <replacevalue>&lt;!--</replacevalue>
            </replacefilter>
            <replacefilter>
              <replacetoken>&lt;- cas.sso.custom.sql.end -&gt;</replacetoken>
              <replacevalue>--&gt;</replacevalue>
            </replacefilter>
          </replace>
        </then>
      </if>
      <if>
        <equals arg2="custom-sql" arg1="${cas.sso.roles.source}"/>
        <then>
          <replace file="/home/gdeignacio/Proyectos/maven/helium/helium-webapp/target/replace-dir/WEB-INF/web.xml">
            <replacefilter>
              <replacetoken>&lt;- cas.sso.custom.sql.begin -&gt;</replacetoken>
              <replacevalue>&lt;!-- cas.sso.custom.sql.begin --&gt;</replacevalue>
            </replacefilter>
            <replacefilter>
              <replacetoken>&lt;- cas.sso.custom.sql.end -&gt;</replacetoken>
              <replacevalue>&lt;!-- cas.sso.custom.sql.end --&gt;</replacevalue>
            </replacefilter>
          </replace>
        </then>
      </if>
    </then>
  </if>
</target>
</project>